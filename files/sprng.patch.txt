diff -rupN -x '*.Po' -x 'Make*' sprng4/SRC/bignum.cpp sprng4.works/SRC/bignum.cpp
--- sprng4/SRC/bignum.cpp	2007-05-12 07:32:36.000000000 +1000
+++ sprng4.works/SRC/bignum.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -10,14 +10,17 @@
 /*************************************************************************/
 
 
-#include <iostream.h>
+#include <iostream>
 #include <stdio.h>
 #include <stdlib.h>
 #include <limits.h>
 #include <time.h>
-#include <iomanip.h>
+#include <iomanip>
 #include <ctype.h>
 #include "bignum.h"
+#include <cstring>
+
+using namespace std;
 
 
 #ifdef LONG64
diff -rupN -x '*.Po' -x 'Make*' sprng4/SRC/bignum.h sprng4.works/SRC/bignum.h
--- sprng4/SRC/bignum.h	2007-04-18 02:07:38.000000000 +1000
+++ sprng4.works/SRC/bignum.h	2011-03-31 20:21:44.000000000 +1100
@@ -1,4 +1,4 @@
-#include <iostream.h>
+#include <iostream>
 
 #ifndef BIGNUM_H
 #define BIGNUM_H
diff -rupN -x '*.Po' -x 'Make*' sprng4/SRC/cmrg/cmrg.cpp sprng4.works/SRC/cmrg/cmrg.cpp
--- sprng4/SRC/cmrg/cmrg.cpp	2007-02-02 06:41:46.000000000 +1100
+++ sprng4.works/SRC/cmrg/cmrg.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -14,7 +14,7 @@
 /*************************************************************************/
 /*************************************************************************/
 
-#include <iostream.h>
+#include <iostream>
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
diff -rupN -x '*.Po' -x 'Make*' sprng4/SRC/fwrap.cpp sprng4.works/SRC/fwrap.cpp
--- sprng4/SRC/fwrap.cpp	2007-04-17 08:16:47.000000000 +1000
+++ sprng4.works/SRC/fwrap.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -21,7 +21,7 @@ extern "C"
 #include "sprng_cpp.h"
 #include "memory.h"
 
-#include <iostream.h>
+#include <iostream>
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
diff -rupN -x '*.Po' -x 'Make*' sprng4/SRC/fwrap.cpp~ sprng4.works/SRC/fwrap.cpp~
--- sprng4/SRC/fwrap.cpp~	2007-04-17 08:15:18.000000000 +1000
+++ sprng4.works/SRC/fwrap.cpp~	2011-03-31 20:21:44.000000000 +1100
@@ -21,7 +21,7 @@ extern "C"
 #include "sprng_cpp.h"
 #include "memory.h"
 
-#include <iostream.h>
+#include <iostream>
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
diff -rupN -x '*.Po' -x 'Make*' sprng4/SRC/lcg/lcg.cpp sprng4.works/SRC/lcg/lcg.cpp
--- sprng4/SRC/lcg/lcg.cpp	2007-02-02 06:54:24.000000000 +1100
+++ sprng4.works/SRC/lcg/lcg.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -11,7 +11,8 @@
 /*************************************************************************/
 /*************************************************************************/
 
-#include <iostream.h>
+
+#include <iostream>
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
@@ -24,6 +25,8 @@
 #include <assert.h>
 #include "store.h"
 
+using namespace std;
+
 #define MAX_STREAMS lcg_MAX_STREAMS
 #define NGENS lcg_NGENS
 
diff -rupN -x '*.Po' -x 'Make*' sprng4/SRC/lcg64/lcg64.cpp sprng4.works/SRC/lcg64/lcg64.cpp
--- sprng4/SRC/lcg64/lcg64.cpp	2006-09-30 06:02:22.000000000 +1000
+++ sprng4.works/SRC/lcg64/lcg64.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -23,7 +23,7 @@
 /*************************************************************************/
 
 
-#include <iostream.h>
+#include <iostream>
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
diff -rupN -x '*.Po' -x 'Make*' sprng4/SRC/lfg/lfg.cpp sprng4.works/SRC/lfg/lfg.cpp
--- sprng4/SRC/lfg/lfg.cpp	2006-09-30 06:03:00.000000000 +1000
+++ sprng4.works/SRC/lfg/lfg.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -60,7 +60,7 @@
 /*      into the appropriate places and avoid the problem entirely.)     */
 /*************************************************************************/
 
-#include <iostream.h>
+#include <iostream>
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
diff -rupN -x '*.Po' -x 'Make*' sprng4/SRC/mlfg/mlfg.cpp sprng4.works/SRC/mlfg/mlfg.cpp
--- sprng4/SRC/mlfg/mlfg.cpp	2006-09-30 06:03:50.000000000 +1000
+++ sprng4.works/SRC/mlfg/mlfg.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -11,7 +11,7 @@
 /*************************************************************************/
 /*************************************************************************/
 
-#include <iostream.h>
+#include <iostream>
 #include <limits.h>
 #include <stdio.h>
 #include <string.h>
diff -rupN -x '*.Po' -x 'Make*' sprng4/SRC/pmlcg/bignum.h sprng4.works/SRC/pmlcg/bignum.h
--- sprng4/SRC/pmlcg/bignum.h	2006-09-29 23:13:32.000000000 +1000
+++ sprng4.works/SRC/pmlcg/bignum.h	2011-03-31 20:21:44.000000000 +1100
@@ -1,7 +1,7 @@
 #ifndef BIGNUM_H
 #define BIGNUM_H
 
-#include <iostream.h>
+#include <iostream>
 
 class BigNum
 {
diff -rupN -x '*.Po' -x 'Make*' sprng4/SRC/pmlcg/pmlcg.cpp sprng4.works/SRC/pmlcg/pmlcg.cpp
--- sprng4/SRC/pmlcg/pmlcg.cpp	2007-05-16 05:30:12.000000000 +1000
+++ sprng4.works/SRC/pmlcg/pmlcg.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -14,7 +14,7 @@
 /*************************************************************************/
 /*************************************************************************/
  
-#include <iostream.h>
+#include <iostream>
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
diff -rupN -x '*.Po' -x 'Make*' sprng4/SRC/pmlcg/pmlcg.cpp~ sprng4.works/SRC/pmlcg/pmlcg.cpp~
--- sprng4/SRC/pmlcg/pmlcg.cpp~	2007-05-12 08:20:52.000000000 +1000
+++ sprng4.works/SRC/pmlcg/pmlcg.cpp~	2011-03-31 20:21:44.000000000 +1100
@@ -14,7 +14,7 @@
 /*************************************************************************/
 /*************************************************************************/
  
-#include <iostream.h>
+#include <iostream>
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
diff -rupN -x '*.Po' -x 'Make*' sprng4/SRC/sprng_cpp.cpp sprng4.works/SRC/sprng_cpp.cpp
--- sprng4/SRC/sprng_cpp.cpp	2006-09-30 02:47:18.000000000 +1000
+++ sprng4.works/SRC/sprng_cpp.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -1,6 +1,7 @@
 #include "sprng_cpp.h"
 
 #include <iostream>
+#include <cstdlib>
 
 using namespace std;
 
diff -rupN -x '*.Po' -x 'Make*' sprng4/TESTS/chisquare.cpp sprng4.works/TESTS/chisquare.cpp
--- sprng4/TESTS/chisquare.cpp	2006-09-30 10:50:07.000000000 +1000
+++ sprng4.works/TESTS/chisquare.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -6,6 +6,7 @@
 #include <cstdio>
 #include <cmath>
 #include "util.h"
+#include <cstring>
 
 using namespace std;
 
diff -rupN -x '*.Po' -x 'Make*' sprng4/TESTS/coupon.cpp sprng4.works/TESTS/coupon.cpp
--- sprng4/TESTS/coupon.cpp	2006-09-30 10:50:43.000000000 +1000
+++ sprng4.works/TESTS/coupon.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -1,4 +1,4 @@
-#include <iostream.h>
+#include <iostream>
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
diff -rupN -x '*.Po' -x 'Make*' sprng4/TESTS/metropolis.cpp sprng4.works/TESTS/metropolis.cpp
--- sprng4/TESTS/metropolis.cpp	2006-10-23 06:25:49.000000000 +1000
+++ sprng4.works/TESTS/metropolis.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -157,7 +157,7 @@ void metropolis(int block_size, int use_
  
   #ifdef SYNC
     printf("\n\tStreams are synchronized!\n");
-  #elif !SYNC
+  #else
     printf("\n\tStreams are not synchronized!\n");
   #endif
 printf("         \tEnergy\t\tEnergy_error\tSigma_Energy\tCv\t\tCv_error\tSigma_Cv\n");
@@ -172,7 +172,7 @@ printf("         \tEnergy\t\tEnergy_erro
 	dE = energy_difference(k);
 #ifdef SYNC
 	if(expJ[dE]>genptr[k]->sprng()){ 
-#elif !SYNC
+#else
 	if(dE<=0 || expJ[dE]>genptr[k]->sprng()){ 
 #endif
 	  energy += dE;
@@ -329,7 +329,7 @@ void thermalize(int block_size, int disc
 	dE = energy_difference(k);
 #ifdef SYNC
 	if(expJ[dE]>genptr[k]->sprng()) 
-#elif !SYNC
+#else
 	if(dE<=0 || expJ[dE]>genptr[k]->sprng())
 #endif
 	{    
diff -rupN -x '*.Po' -x 'Make*' sprng4/TESTS/mpitests/coupon.cpp sprng4.works/TESTS/mpitests/coupon.cpp
--- sprng4/TESTS/mpitests/coupon.cpp	2007-04-18 02:27:03.000000000 +1000
+++ sprng4.works/TESTS/mpitests/coupon.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -1,4 +1,4 @@
-#include <iostream.h>
+#include <iostream>
 #include <stdio.h>
 #include <string.h>
 #include <stdlib.h>
diff -rupN -x '*.Po' -x 'Make*' sprng4/EXAMPLES/mpisprng/message_mpi.cpp sprng4.works/EXAMPLES/mpisprng/message_mpi.cpp
--- sprng4/EXAMPLES/mpisprng/message_mpi.cpp	2006-10-04 05:22:23.000000000 +1000
+++ sprng4.works/EXAMPLES/mpisprng/message_mpi.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -5,7 +5,7 @@
 /* and prints a few random numbers from this stream.                       */ 
 /***************************************************************************/
 
-#include <iostream.h>
+#include <iostream>
 #include <stdio.h>
 #include <stdlib.h>
 #include <mpi.h>		/* MPI header file                         */
diff -rupN -x '*.Po' -x 'Make*' sprng4/EXAMPLES/mpisprng/seed_mpi.cpp sprng4.works/EXAMPLES/mpisprng/seed_mpi.cpp
--- sprng4/EXAMPLES/mpisprng/seed_mpi.cpp	2006-09-30 05:35:43.000000000 +1000
+++ sprng4.works/EXAMPLES/mpisprng/seed_mpi.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -4,7 +4,7 @@
 /* is run. The same seed is produced on each process.                      */
 /***************************************************************************/
 
-#include <iostream.h>
+#include <iostream>
 #include <stdio.h>
 #include <mpi.h>                /* MPI header file                         */
 
diff -rupN -x '*.Po' -x 'Make*' sprng4/EXAMPLES/mpisprng/sprng_mpi.cpp sprng4.works/EXAMPLES/mpisprng/sprng_mpi.cpp
--- sprng4/EXAMPLES/mpisprng/sprng_mpi.cpp	2007-04-14 15:00:38.000000000 +1000
+++ sprng4.works/EXAMPLES/mpisprng/sprng_mpi.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -4,7 +4,7 @@
 /* random numbers.                                                         */
 /***************************************************************************/
 
-#include <iostream.h>
+#include <iostream>
 #include <stdio.h>
 #include <mpi.h>		/* MPI header file                         */
 
diff -rupN -x '*.Po' -x 'Make*' sprng4/EXAMPLES/pi-simple.cpp sprng4.works/EXAMPLES/pi-simple.cpp
--- sprng4/EXAMPLES/pi-simple.cpp	2006-10-04 05:24:19.000000000 +1000
+++ sprng4.works/EXAMPLES/pi-simple.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -10,6 +10,7 @@
 #include <cstdio>
 #include <cmath>
 #include <cstring>
+#include <cstdlib>
 
 #define SIMPLE_SPRNG		/* simple interface                        */
 #include "sprng_cpp.h"
diff -rupN -x '*.Po' -x 'Make*' sprng4/EXAMPLES/spawn.cpp sprng4.works/EXAMPLES/spawn.cpp
--- sprng4/EXAMPLES/spawn.cpp	2006-10-04 05:25:26.000000000 +1000
+++ sprng4.works/EXAMPLES/spawn.cpp	2011-03-31 20:21:44.000000000 +1100
@@ -7,6 +7,7 @@
 
 #include <iostream>
 #include <cstdio>
+#include <cstdlib>
 
 #include "sprng_cpp.h"  /* SPRNG header file                               */
 
diff -rupN -x '*.Po' -x 'Make*' sprng4/include/bignum.h sprng4.works/include/bignum.h
--- sprng4/include/bignum.h	2007-04-18 02:08:39.000000000 +1000
+++ sprng4.works/include/bignum.h	2011-03-31 20:21:44.000000000 +1100
@@ -1,4 +1,4 @@
-#include <iostream.h>
+#include <iostream>
 
 #ifndef BIGNUM_H
 #define BIGNUM_H
diff -rupN -x '*.Po' -x 'Make*' sprng4/include/bignum.h.copy sprng4.works/include/bignum.h.copy
--- sprng4/include/bignum.h.copy	2007-04-18 02:08:33.000000000 +1000
+++ sprng4.works/include/bignum.h.copy	2011-03-31 20:21:44.000000000 +1100
@@ -1,4 +1,4 @@
-#include <iostream.h>
+#include <iostream>
 
 #ifndef BIGNUM_H
 #define BIGNUM_H
