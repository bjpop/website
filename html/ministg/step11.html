<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><title
    >Step 11</title
    ></head
  ><body
  ><h1
    >Step 11</h1
    ><p
    ><a href="step10.html"
      >previous</a
      > <a href="step12.html"
      >next</a
      ></p
    ><h3
    >Most recent rule applied</h3
    ><p
    >LET</p
    ><h3
    >Stack and Code</h3
    ><table border="3" cellpadding="10"
    ><tr
      ><td style="vertical-align:top"
	>Stack</td
	><td style="vertical-align:top"
	>Expression</td
	></tr
      ><tr
      ><td style="vertical-align:top"
	><table border="1" cellpadding="5" cellspacing="0"
	  ><tr
	    ><td
	      ><pre
		>upd * main</pre
		></td
	      ></tr
	    ></table
	  ></td
	><td style="vertical-align:top"
	><pre
	  >foldl_3 plusInt $2 nil</pre
	  ></td
	></tr
      ></table
    ><h3
    >Heap</h3
    ><table border="3" cellpadding="5" cellspacing="0"
    ><tr
      ><td
	>Variable</td
	><td
	>Object</td
	></tr
      ><tr
      ><td
	><pre
	  >$0</pre
	  ></td
	><td
	><pre
	  >THUNK(plusInt_? zero three)</pre
	  ></td
	></tr
      ><tr
      ><td
	><pre
	  >$1</pre
	  ></td
	><td
	><pre
	  >THUNK(plusInt_? $0 two)</pre
	  ></td
	></tr
      ><tr
      ><td
	><pre
	  >$2</pre
	  ></td
	><td
	><pre
	  >THUNK(plusInt_? $1 one)</pre
	  ></td
	></tr
      ><tr
      ><td
	><pre
	  >foldl</pre
	  ></td
	><td
	><pre
	  >FUN(f acc list -&gt;
       case list of {
          Nil -&gt; acc;
          Cons h t -&gt;
             let { newAcc = THUNK(f_? acc h) } in foldl_3 f newAcc t
       })</pre
	  ></td
	></tr
      ><tr
      ><td
	><pre
	  >main</pre
	  ></td
	><td
	><pre
	  >BLACKHOLE</pre
	  ></td
	></tr
      ><tr
      ><td
	><pre
	  >nil</pre
	  ></td
	><td
	><pre
	  >CON(Nil)</pre
	  ></td
	></tr
      ><tr
      ><td
	><pre
	  >one</pre
	  ></td
	><td
	><pre
	  >CON(I 1)</pre
	  ></td
	></tr
      ><tr
      ><td
	><pre
	  >plusInt</pre
	  ></td
	><td
	><pre
	  >FUN(x y -&gt;
       case x of {
          I i -&gt;
             case y of {
                I j -&gt;
                   case plus# i j of {
                      x -&gt; let { result = CON(I x) } in result
                   }
             }
       })</pre
	  ></td
	></tr
      ><tr
      ><td
	><pre
	  >three</pre
	  ></td
	><td
	><pre
	  >CON(I 3)</pre
	  ></td
	></tr
      ><tr
      ><td
	><pre
	  >two</pre
	  ></td
	><td
	><pre
	  >CON(I 2)</pre
	  ></td
	></tr
      ><tr
      ><td
	><pre
	  >zero</pre
	  ></td
	><td
	><pre
	  >CON(I 0)</pre
	  ></td
	></tr
      ></table
    ></body
  ></html
>
